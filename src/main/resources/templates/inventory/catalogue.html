<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<head>

	    <!-- Required meta tags -->
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    
	    <!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
			  rel="stylesheet"
			  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			  crossorigin="anonymous">
		
		<!-- Font Bebas Neue -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
		
		<title>Catalogue</title>
	</head>
	
	<body>
	    <!-- jQuery -->
	    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	    
    	<!-- Popper.js and Bootstrap JS -->
    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    			integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    			crossorigin="anonymous"></script>
    	
    	<!-- Display image in a card modal -->
    	<script src="/js/inventory-card/display-image.js"></script>
    	
    	<!-- View inventory card -->
    	<script src="/js/inventory-card/view-card.js"></script>
    	
    	<!-- Reload page -->
    	<script src="/js/inventory-card/reload-page.js"></script>
    	
    	<!-- Navigation bar -->
		<div th:replace="fragments/navigation-bar :: navigation-bar"></div>
    	
		<!-- Catalogue-->
		<div class="container">
			<br>
			
			<!-- Button trigger a card modal -->
			<p>
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addCardModal">
					New card
				</button>
			</p>
			
			<!-- Card Modal -->
			<div th:replace="fragments/inventory-card :: inventory-card"></div>
			
			<!-- Catalogue table -->
			<table class="table table-bordered table-striped align-middle" style="font-size: 14px;">
			
				<!-- Table head -->
				<thead class="thead table-dark">
					<tr class="text-center">
						<th>Use</th>
						<th>Image</th>
						<th>Identifier</th>
						<th>Name</th>
						<th>Type</th>
						<th>Product ID</th>
						<th>Manufacturer</th>
						<th>Country</th>
					</tr>
				</thead>
				
				<!-- Table body -->
				<tbody>
					<tr th:each="inventoryCard : ${inventoryCards}">
						<td class="text-center">
							<div class="form-check">
								<input class="form-check-input" type="checkbox" id="flexCheck" th:value="${inventoryCard.identifier}">
							</div>
							<div>  				
								<a th:href="@{/amics/delete(inventoryCardId=${inventoryCard.id}, 
															inventoryCardIdentifier=${inventoryCard.identifier},
															inventoryCardProductImage=${inventoryCard.productImage})}"
								   class="btn btn-danger btn-sm"
								   onclick="if (!(confirm('Delete this card?'))) return false">
									X
								</a>
							</div>
						</td>
						<td>
							<img th:src="@{${inventoryCard.productImagePath}}" class="mx-auto d-block" 
								 style="width: 144px; height: 105px; overflow: hidden; margin: auto;">
						</td>
						<td class="text-center">
							<a th:text="${inventoryCard.identifier}" th:href="@{/amics/view(inventoryCardId=${inventoryCard.id})}" 
							   class="view"></a>
						</td>
						<td th:text="${inventoryCard.productName}"/>
						<td th:text="${inventoryCard.productType}"/>
						<td th:text="${inventoryCard.productId}"/>
						<td th:text="${inventoryCard.productManufacturer}"/>
						<td th:text="${inventoryCard.productCountry}"/>
					</tr>
				</tbody>
			</table>

		</div>
		
	</body>
</html>